<ion-view title="View Bookings">
  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <p><strong>Click view details to view customer's location on map</strong></p>
    <ul class="list" ng-model="bookings" ng-show='showBookings'>
		  <li class="item col-70" ng-repeat="booking in pendingBookings" >		  	
			    Pickup coordinate: {{booking.pickup}} <br />          
          Destination : {{booking.destination}}:<br />
			    Time : {{booking.timein}}<br />          
          Distance : {{booking.distance}}KM     <br />
          Price : RM{{booking.price}}     <br />		      
		  	<button class="button button-medium button-balanced col-offset-20" ng-click='viewOneBooking(booking)' style='float:right;'>
            	View Details
        	</button>
          </li>        

		</ul>
    <style type="text/css">
     #map3 {
        height: 50%;
        width: 100%;
        border: 1px solid black;
      }
    </style>
    
    
    
    <button class="button button-medium button-positive" ng-click='reset()' style='float:left;' ng-show='showOneBooking'>
                Back
    </button>
    <div id="map3" ng-show='showOneBooking'></div>            
	<!-- view one booking -->
	<ion-list ng-model="book" ng-show='showOneBooking'>
            
            <ion-item>Pick up location 
              <input type='text' value="{{book.pickup}}">
            </ion-item>
            <ion-item>Destination : {{book.destination}}</ion-item>
            <ion-item>Time: {{book.timein}}</ion-item>
            <ion-item>Status: {{book.booking_status}}</ion-item>
            <ion-item>Distance: {{book.distance}} KM</ion-item>
            <ion-item>Price: RM{{book.price}}</ion-item>
            <a  class="button button-balanced button-block " ng-click="acceptBooking()">Accept</a>
        <a class="button button-assertive button-block " ng-click="rejectBooking()">Reject</a>
        </ion-list>

        <div ng-show='showBookingAccepted'>
            <p>You have accepted the delivery request. Please proceed to pick the customer up from his/her pick up location.</p>
        </div>      

        <div ng-show='showBookingRejected'>
            <p>You have rejected the customer</p>
        </div>  
        
  </ion-content>
</ion-view>

